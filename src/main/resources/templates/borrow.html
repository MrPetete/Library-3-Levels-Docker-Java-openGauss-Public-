<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Borrow a Book</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container py-4">
  <h1 class="mb-4">ðŸ“– Borrow a Book</h1>

  <div class="mb-3">
    <a class="btn btn-secondary me-2" th:href="@{/books}">Back to books</a>
    <a class="btn btn-outline-secondary" th:href="@{/borrows}">View borrows</a>
  </div>

  <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

  <form method="post" th:action="@{/borrow}">
    <div class="mb-3">
      <label class="form-label">User</label>
      <select name="userId" class="form-select">
        <option th:each="u : ${users}"
                th:value="${u.id}"
                th:text="${u.name + ' (' + u.studentNo + ')'}"></option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Book</label>
      <select name="bookId" class="form-select">
        <option th:each="b : ${books}"
                th:value="${b.id}"
                th:text="${b.title + ' â€“ available: ' + b.availableCopies}"></option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Days</label>
      <input type="number" name="days" class="form-control" value="14" min="1">
    </div>

    <button class="btn btn-primary" type="submit">Borrow</button>
  </form>
</div>
</body>
</html>
